/* lightrouter.js - Copyright 2014 Gary Green. Licensed under the Apache License, Version 2.0 */!function(t){"undefined"!=typeof exports?module.exports={LightRouter:t()}:window.LightRouter=t(window)}(function(t){function r(t){if(this.rootUrl="",this.routes=[],this.url=null,t=t||{},t.routes){var r;for(r in t.routes)this.addRoute(r,t.routes[r])}t.rootUrl&&this.setRootUrl(t.rootUrl),t.url&&this.setUrl(t.url)}function o(t){return"string"==typeof t?new RegExp("^"+t):t}return r.prototype.addRoute=function(t,r){return this.routes.push({route:t,callback:r}),this},r.prototype.setRootUrl=function(t){return this.rootUrl=t,this},r.prototype.setUrl=function(t){return this.url=t,this},r.prototype.getUrl=function(){var r=this.url||t.location.href.split("?")[0],o=new RegExp("^"+this.rootUrl);return r.replace(o,"")},r.prototype.run=function(){var t,r,e,u,i=this.getUrl();for(t in this.routes)e=this.routes[t],u=o(e.route),r=i.match(u),r&&e.callback();return this},r});